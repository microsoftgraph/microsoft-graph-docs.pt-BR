---
title: Usar a API REST de feed de atividades
description: 'Você pode usar a API do feed de atividades no Microsoft Graph para retomar a atividade de um usuário entre dispositivos e plataformas. As solicitações da API de feed de atividades são realizadas em nome de um usuário via permissões delegadas e a permissão de atividade do usuário, que pode ser usada com contas pessoais ou corporativas e de estudante. '
localization_priority: Normal
ms.prod: project-rome
author: ailae
doc_type: conceptualPageType
ms.openlocfilehash: 76f94e2f1d34186258fb74c5509accf5a0ecc007
ms.sourcegitcommit: 577bfd3bb8a2e2679ef1c5942a4a496c2aa3a277
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/17/2020
ms.locfileid: "48581964"
---
# <a name="use-the-activity-feed-rest-api"></a><span data-ttu-id="e7bd3-104">Usar a API REST de feed de atividades</span><span class="sxs-lookup"><span data-stu-id="e7bd3-104">Use the activity feed REST API</span></span>

<span data-ttu-id="e7bd3-105">Namespace: microsoft.graph</span><span class="sxs-lookup"><span data-stu-id="e7bd3-105">Namespace: microsoft.graph</span></span>

<span data-ttu-id="e7bd3-106">Você pode usar a API do feed de atividades no Microsoft Graph para retomar a atividade de um usuário entre dispositivos e plataformas.</span><span class="sxs-lookup"><span data-stu-id="e7bd3-106">You can use the activity feed API in Microsoft Graph to resume a user's activity across devices and platforms.</span></span> <span data-ttu-id="e7bd3-107">As solicitações da API de feed de atividades são realizadas em nome de um usuário via [permissões delegadas](/graph/permissions-reference#delegated-permissions-application-permissions-and-effective-permissions) e a [permissão de atividade do usuário](/graph/permissions-reference), que pode ser usada com contas pessoais ou corporativas e de estudante.</span><span class="sxs-lookup"><span data-stu-id="e7bd3-107">Activity feed API requests are performed on behalf of a user via [delegated permissions](/graph/permissions-reference#delegated-permissions-application-permissions-and-effective-permissions) and the [user activity permission](/graph/permissions-reference), which can be used with either personal or work and school accounts.</span></span>

<span data-ttu-id="e7bd3-108">As atividades do usuário são representadas pelo recurso [atividade](/graph/api/resources/projectrome-activity) e são organizadas em um feed baseado em tempo representado pela coleção me/Activities.</span><span class="sxs-lookup"><span data-stu-id="e7bd3-108">User activities are represented by the [activity](/graph/api/resources/projectrome-activity) resource and are organized in a time-based feed represented by the collection me/activities.</span></span>
<!-- Add missing content.
Each activity represents a unique...
-->
## <a name="what-makes-a-great-user-activity"></a><span data-ttu-id="e7bd3-109">O que faz uma boa atividade do usuário?</span><span class="sxs-lookup"><span data-stu-id="e7bd3-109">What makes a great user activity?</span></span>

<span data-ttu-id="e7bd3-110">As atividades do usuário não apenas iniciam aplicativos – elas são links profundos para conteúdo específico no seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="e7bd3-110">User activities don’t just launch apps — they are deep links into specific content within your app.</span></span> <span data-ttu-id="e7bd3-111">As atividades do usuário que você cria não podem ser usadas somente em seu próprio aplicativo, mas também aparecerão na Cortana e na linha do tempo do Windows, levando mais reenvolvimento de aplicativos e facilitando o uso do aplicativo em vários dispositivos.</span><span class="sxs-lookup"><span data-stu-id="e7bd3-111">The user activities you create can not only be used in your own app, but will also appear in Cortana and Windows Timeline — driving more app reengagement and making it easier for your users to continue using your app across multiple devices.</span></span>

### <a name="what-should-become-an-activity"></a><span data-ttu-id="e7bd3-112">O que deve se tornar uma atividade?</span><span class="sxs-lookup"><span data-stu-id="e7bd3-112">What should become an activity?</span></span>

<span data-ttu-id="e7bd3-113">Como todos os aplicativos são diferentes, é para cada desenvolvedor de aplicativos entender a melhor maneira de mapear ações dentro de seu aplicativo para as atividades do usuário.</span><span class="sxs-lookup"><span data-stu-id="e7bd3-113">Because every app is different, it's up to each app developer to understand the best way to map actions within your application to user activities.</span></span> <span data-ttu-id="e7bd3-114">Por exemplo, os jogos podem criar uma atividade para cada campanha, os aplicativos de criação de documentos podem criar uma atividade para cada documento exclusivo, e os aplicativos de linha de negócios podem criar uma atividade para cada fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="e7bd3-114">For example, games might create an activity for each campaign, document authoring apps might create an activity for each unique document, and line-of-business apps might create an activity for each workflow.</span></span>

<span data-ttu-id="e7bd3-115">Aplique as seguintes diretrizes conforme define o activitites em seu aplicativo:</span><span class="sxs-lookup"><span data-stu-id="e7bd3-115">Apply the following guidlines as you define activitites in your app:</span></span>

<span data-ttu-id="e7bd3-116">**Fazer:** Registrar uma única atividade para um grupo de ações de usuário relacionadas.</span><span class="sxs-lookup"><span data-stu-id="e7bd3-116">**DO:** Record a single activity for a group of related user actions.</span></span>
<span data-ttu-id="e7bd3-117">Se o aplicativo for usado para uma sequência de conteúdo relacionado, provavelmente fará sentido registrar uma única atividade para toda a sessão de compromisso.</span><span class="sxs-lookup"><span data-stu-id="e7bd3-117">If your application is used for a sequence of related content, it probably makes sense to record a single activity for the entire engagement session.</span></span>

<span data-ttu-id="e7bd3-118">*Cenários de playlist:* Isso é especialmente relevante para playlists de música ou programas de TV — uma única atividade de usuário pode ser atualizada para mostrar seu progresso.</span><span class="sxs-lookup"><span data-stu-id="e7bd3-118">*Playlist scenarios:* This is especially relevant for music playlists or TV shows — a single user activity can be updated to show your progress.</span></span> <span data-ttu-id="e7bd3-119">Nesse caso, você terá uma única atividade de usuário com vários [itens de histórico](/graph/api/resources/projectrome-historyitem) representando períodos de contrato em vários dias ou semanas.</span><span class="sxs-lookup"><span data-stu-id="e7bd3-119">In this case, you will have a single user activity with multiple [history items](/graph/api/resources/projectrome-historyitem) representing periods of engagement across multiple days or weeks.</span></span>

<span data-ttu-id="e7bd3-120">**Fazer:** Armazenar dados de usuário na nuvem.</span><span class="sxs-lookup"><span data-stu-id="e7bd3-120">**DO:** Store user data to the cloud.</span></span>
<span data-ttu-id="e7bd3-121">Se você quiser dar suporte a atividades entre dispositivos, precisará certificar-se de que o conteúdo necessário para recontratar essa atividade está armazenado em um local de nuvem.</span><span class="sxs-lookup"><span data-stu-id="e7bd3-121">If you want to support cross-device activities, you need to make sure the content required to reengage this activity is stored to a cloud location.</span></span> <span data-ttu-id="e7bd3-122">Por exemplo, se você publicar uma atividade cada vez que um usuário edita um documento, o documento deve ser armazenado na nuvem, em vez de localmente no dispositivo do usuário para habilitar o reenvolvimento entre dispositivos.</span><span class="sxs-lookup"><span data-stu-id="e7bd3-122">For example, if you publish an activity each time a user edits a document, the document should be stored in the cloud as opposed to locally on the user's device in order to enable cross-device reengagement.</span></span>

<span data-ttu-id="e7bd3-123">Não **:** Criar uma atividade do usuário para ações que os usuários não precisam retomar no futuro.</span><span class="sxs-lookup"><span data-stu-id="e7bd3-123">**DO NOT:** Create a user activity for actions that users do not need to resume in the future.</span></span>
<span data-ttu-id="e7bd3-124">Se seu aplicativo for usado para concluir operações simples e de um único tempo que não persistem status para que você acompanhe no futuro, provavelmente não precisará escrever uma atividade do usuário.</span><span class="sxs-lookup"><span data-stu-id="e7bd3-124">If your application is used to complete simple, one-time operations that do not persist status for you to track in the future, you probably do not need to write a user activity.</span></span>

<span data-ttu-id="e7bd3-125">Para ser claro, mesmo que as atividades do usuário apareçam na linha do tempo do Windows, isso não é projetado como uma ferramenta de controle de versão, a escolha de uma atividade baseada em documento deve sempre mostrar a versão mais recente do documento (incluindo as alterações feitas por outro usuário.)</span><span class="sxs-lookup"><span data-stu-id="e7bd3-125">To be clear, even though user activities appear in Windows Timeline, this is not designed as a versioning tool — choosing a document-based activity should always show the latest version of that document (including changes that were made by another user.)</span></span>

<span data-ttu-id="e7bd3-126">Não **:** Criar uma atividade de usuário para ações concluídas por *outros usuários*.</span><span class="sxs-lookup"><span data-stu-id="e7bd3-126">**DO NOT:** Create a user activity for actions completed by *other users*.</span></span>
<span data-ttu-id="e7bd3-127">Se alguém enviar uma mensagem para o usuário ou @mentions o usuário no seu aplicativo, você não deve escrever uma nova atividade.</span><span class="sxs-lookup"><span data-stu-id="e7bd3-127">If someone sends the user a message, or @mentions the user within your app, you should not write a new activity.</span></span> <span data-ttu-id="e7bd3-128">Essas interações são mais bem servidas por notificações do revelar.</span><span class="sxs-lookup"><span data-stu-id="e7bd3-128">These interactions are better served by surfacing notifications.</span></span>

<span data-ttu-id="e7bd3-129">*Cenários de colaboração:* Se várias pessoas estiverem trabalhando na mesma atividade (como um documento do Word), haverá casos quando outro usuário tiver feito alterações no documento depois da última edição.</span><span class="sxs-lookup"><span data-stu-id="e7bd3-129">*Collaboration scenarios:* If multiple people are working on the same activity (such as a Word document), there will be cases when another user has made changes to the document after you last edited it.</span></span> <span data-ttu-id="e7bd3-130">Nesse caso, os desenvolvedores de aplicativos podem querer atualizar os elementos visuais na atividade para refletir as alterações feitas no documento.</span><span class="sxs-lookup"><span data-stu-id="e7bd3-130">In this case, app developers might want to update the visual elements in the activity to reflect changes made to the document.</span></span> <span data-ttu-id="e7bd3-131">Para fazer isso, o aplicativo pode atualizar a atividade existente sem criar um novo item de histórico.</span><span class="sxs-lookup"><span data-stu-id="e7bd3-131">To do this, the app might update the existing activity without creating a new history item.</span></span>

><span data-ttu-id="e7bd3-132">**Observação:** Se você estiver publicando atividades para um aplicativo Web, é importante incluir um `activationURL` e um `fallbackURL` para cada uma de suas atividades.</span><span class="sxs-lookup"><span data-stu-id="e7bd3-132">**Note:** If you're publishing activities for a web application, it's important to include both an `activationURL` and a `fallbackURL` for each of your activities.</span></span> <span data-ttu-id="e7bd3-133">As atividades iniciarão o usuário de volta para o aplicativo conforme o esperado das experiências da Microsoft, como a linha do tempo do Windows.</span><span class="sxs-lookup"><span data-stu-id="e7bd3-133">The activities will launch the user back into your app as expected from Microsoft experiences like Windows Timeline.</span></span>

## <a name="app-interaction-patterns-and-user-activities"></a><span data-ttu-id="e7bd3-134">Padrões de interação de aplicativos e atividades do usuário</span><span class="sxs-lookup"><span data-stu-id="e7bd3-134">App interaction patterns and user activities</span></span>
<span data-ttu-id="e7bd3-135">As atividades do usuário que você criar irão variar com base no padrão de interação do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="e7bd3-135">The user activities that you create will vary based on the interaction pattern of your app.</span></span> <span data-ttu-id="e7bd3-136">Embora cada aplicativo seja diferente, a maioria se enquadrará em um dos seguintes padrões de interação:</span><span class="sxs-lookup"><span data-stu-id="e7bd3-136">While every app is different, most will fall into one of the following interaction patterns:</span></span>

* <span data-ttu-id="e7bd3-137">**Aplicativos baseados em documentos** — crie uma atividade por documento com um ou mais registros de histórico que refletem os períodos de uso.</span><span class="sxs-lookup"><span data-stu-id="e7bd3-137">**Document-based apps** — Create one activity per document with one or more history records reflecting periods of use.</span></span> <span data-ttu-id="e7bd3-138">É importante atualizar seu cartão de atividades à medida que as alterações são feitas no documento.</span><span class="sxs-lookup"><span data-stu-id="e7bd3-138">It is important to update your activity card as changes are made to the document.</span></span>
* <span data-ttu-id="e7bd3-139">**Aplicativos de reprodução de mídia** — crie uma atividade por agrupamento lógico de conteúdo como uma lista de reprodução, programa ou conteúdo autônomo.</span><span class="sxs-lookup"><span data-stu-id="e7bd3-139">**Media playback apps** — Create one activity per logical grouping of content such as a playlist, program, or standalone content.</span></span>
* <span data-ttu-id="e7bd3-140">**Jogos** — crie uma atividade para cada jogo ou mundo salvo.</span><span class="sxs-lookup"><span data-stu-id="e7bd3-140">**Games** — Create one activity for each saved game or world.</span></span> <span data-ttu-id="e7bd3-141">Se seu jogo suportar apenas uma única sequência de níveis, você pode escrever a mesma atividade com o passar do tempo, embora você queira atualizar seu cartão para mostrar o andamento ou as realizações mais recentes.</span><span class="sxs-lookup"><span data-stu-id="e7bd3-141">If your game supports only a single sequence of levels, you can write the same activity over time, although you might want to update your card to show your latest progress or achievements.</span></span>
* <span data-ttu-id="e7bd3-142">**Aplicativos Utilitários** — se não houver nada no aplicativo que os usuários desejam retomar, você não deve publicar atividades.</span><span class="sxs-lookup"><span data-stu-id="e7bd3-142">**Utility apps** — If there is nothing within your app that users would want to resume, you should not publish activities.</span></span> <span data-ttu-id="e7bd3-143">Um bom exemplo é um aplicativo simples de uso único, como a calculadora.</span><span class="sxs-lookup"><span data-stu-id="e7bd3-143">A good example is a simple single-purpose app like calculator.</span></span>
* <span data-ttu-id="e7bd3-144">**Aplicativos de linha de negócios** — muitos aplicativos existem para gerenciar tarefas simples ou fluxos de trabalho.</span><span class="sxs-lookup"><span data-stu-id="e7bd3-144">**Line-of-business apps** — Many apps exist for managing simple tasks or workflows.</span></span> <span data-ttu-id="e7bd3-145">Crie uma atividade para cada fluxo de trabalho separado acessado por meio de seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="e7bd3-145">Create one activity for each separate workflow accessed through your app.</span></span> <span data-ttu-id="e7bd3-146">Por exemplo, cada relatório de despesas seria uma atividade separada, porque talvez você queira clicar nessa atividade para ver se ela foi aprovada.</span><span class="sxs-lookup"><span data-stu-id="e7bd3-146">For example, each expense report would be a separate activity, because you might want to click that activity to see if it was approved.</span></span>

<span data-ttu-id="e7bd3-147">*Alguns aplicativos complexos incluem vários padrões de interação. Você pode querer seguir padrões diferentes de criação de atividades do usuário para diferentes cenários manipulados pelo seu aplicativo.*</span><span class="sxs-lookup"><span data-stu-id="e7bd3-147">*Some complex apps include multiple interaction patterns. You might want to follow different user activity creation patterns for different scenarios handled by your app.*</span></span>

<!-- Add content or remove H2.
## Common use cases
-->

## <a name="next-steps"></a><span data-ttu-id="e7bd3-148">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="e7bd3-148">Next steps</span></span>

- <span data-ttu-id="e7bd3-149">Consulte o [recurso atividade](/graph/api/resources/projectrome-activity) e defina as atividades do seu aplicativo para ajudar os usuários a retomar tarefas importantes.</span><span class="sxs-lookup"><span data-stu-id="e7bd3-149">See the [activity resource](/graph/api/resources/projectrome-activity) and define your app's activities to help users resume important tasks.</span></span>
- <span data-ttu-id="e7bd3-150">Explore os exemplos de [cartões adaptáveis](https://adaptivecards.io/samples/) para ideias para tornar suas atividades **pop**.</span><span class="sxs-lookup"><span data-stu-id="e7bd3-150">Explore the [adaptive card samples](https://adaptivecards.io/samples/) samples for ideas to make your activities **pop**.</span></span>
- <span data-ttu-id="e7bd3-151">Experimente a API no [Explorador do Graph](https://developer.microsoft.com/graph/graph-explorer).</span><span class="sxs-lookup"><span data-stu-id="e7bd3-151">Try the API in the [Graph Explorer](https://developer.microsoft.com/graph/graph-explorer).</span></span>

<span data-ttu-id="e7bd3-152">**Procurando mais ideias?**</span><span class="sxs-lookup"><span data-stu-id="e7bd3-152">**Looking for more ideas?**</span></span>

- <span data-ttu-id="e7bd3-153">Veja [como as experiências da Microsoft estão usando atividades](https://channel9.msdn.com/events/Build/2017/B8108).</span><span class="sxs-lookup"><span data-stu-id="e7bd3-153">See [how Microsoft experiences are using activities](https://channel9.msdn.com/events/Build/2017/B8108).</span></span>
- <span data-ttu-id="e7bd3-154">Saiba mais sobre [a API de feed de atividades e escolha onde eu parou](https://channel9.msdn.com/Events/Windows/Windows-Developer-Day-Fall-Creators-Update/WinDev011).</span><span class="sxs-lookup"><span data-stu-id="e7bd3-154">Learn about [the activity feed API and pick up where I left off](https://channel9.msdn.com/Events/Windows/Windows-Developer-Day-Fall-Creators-Update/WinDev011).</span></span>