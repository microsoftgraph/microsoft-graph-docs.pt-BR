---
title: Usar a API REST do Planner
description: É possível usar a API do Planner no Microsoft Graph para criar e atribuir tarefas aos usuários em um grupo no Microsoft 365.
author: TarkanSevilmis
localization_priority: Priority
ms.prod: planner
doc_type: conceptualPageType
ms.openlocfilehash: 8b2001915b5c63817c6826c0a0b175b0bb70ff82
ms.sourcegitcommit: 1d2adc4062c8e83d23768682cf66a731bccd313c
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/16/2021
ms.locfileid: "49882770"
---
# <a name="use-the-planner-rest-api"></a><span data-ttu-id="ce698-103">Usar a API REST do Planner</span><span class="sxs-lookup"><span data-stu-id="ce698-103">Use the Planner REST API</span></span>

[!INCLUDE [beta-disclaimer](../../includes/beta-disclaimer.md)]

<span data-ttu-id="ce698-104">É possível usar a API do Planner no Microsoft Graph para criar e atribuir tarefas aos usuários em um grupo no Microsoft 365.</span><span class="sxs-lookup"><span data-stu-id="ce698-104">You can use the Planner API in Microsoft Graph to create tasks and assign them to users in a group in Microsoft 365.</span></span>

<span data-ttu-id="ce698-105">Antes de começar a experimentar a API do Planner, vale a pena entender como os principais objetos na API do Planner se relacionam entre si e também com os grupos do Microsoft 365.</span><span class="sxs-lookup"><span data-stu-id="ce698-105">Before you get started with the Planner API, it will be helpful to understand how the main objects relate to each other as well as to Microsoft 365 groups.</span></span>

## <a name="plan-containers"></a><span data-ttu-id="ce698-106">Planejar contêineres</span><span class="sxs-lookup"><span data-stu-id="ce698-106">Plan containers</span></span>
<span data-ttu-id="ce698-107">No Planner, os planos estão sempre contidos em outro recurso.</span><span class="sxs-lookup"><span data-stu-id="ce698-107">In Planner, plans are always contained by another resource.</span></span> <span data-ttu-id="ce698-108">O recurso contido determina as regras de autorização do plano e todas as tarefas nele contidas, bem como o ciclo de vida do plano.</span><span class="sxs-lookup"><span data-stu-id="ce698-108">The containing resource determines the authoization rules of the plan and all the tasks in it, as well as the lifecycle of the plan.</span></span> <span data-ttu-id="ce698-109">Por exemplo, para planos contidos por grupos do Microsoft 365, os membros do grupo serão capazes de criar, editar, resolver e excluir tarefas no plano, bem como alterar algumas propriedades de nível de plano, como o nome do plano ou nomes de rótulos.</span><span class="sxs-lookup"><span data-stu-id="ce698-109">For example, for plans contained by Microsoft 365 groups, group members will be able to create, edit, resolve, and delete tasks in the plan, as well as changing some plan-level properties, such as the name of the plan or label names.</span></span> <span data-ttu-id="ce698-110">Além disso, quando o grupo é excluído, todos os planos do grupo são excluídos automaticamente ou, se um grupo for restaurado, todos os planos serão restaurados automaticamente.</span><span class="sxs-lookup"><span data-stu-id="ce698-110">Additionally, when the group is deleted, all the plans in the group are automatically deleted, or if a group is restored, all the plans will be automatically restored.</span></span>

<span data-ttu-id="ce698-111">O tipo mais comum de contêiner é um grupo Microsoft 365.</span><span class="sxs-lookup"><span data-stu-id="ce698-111">The most common type of container is a Microsoft 365 group.</span></span>

### <a name="container-type-microsoft-365-groups"></a><span data-ttu-id="ce698-112">Tipo de contêiner: grupos Microsoft 365</span><span class="sxs-lookup"><span data-stu-id="ce698-112">Container type: Microsoft 365 groups</span></span>

<span data-ttu-id="ce698-113">Os planos geralmente estão contidos em grupos do Microsoft 365 na API do Planner.</span><span class="sxs-lookup"><span data-stu-id="ce698-113">Plans are commonly contained in Microsoft 365 groups in the Planner API.</span></span>
<span data-ttu-id="ce698-114">Para [obter os planos pertencentes a um grupo](../api/plannergroup-list-plans.md), faça a seguinte solicitação HTTP.</span><span class="sxs-lookup"><span data-stu-id="ce698-114">To [get the plans owned by a group](../api/plannergroup-list-plans.md), make the following HTTP request.</span></span>

``` http
GET /groups/{group-id}/planner/plans
```

<span data-ttu-id="ce698-115">Ao [criar um novo plano](../api/planner-post-plans.md), faça de um grupo seu contêiner definindo a propriedade `container` em um objeto de plano.</span><span class="sxs-lookup"><span data-stu-id="ce698-115">When [creating a new plan](../api/planner-post-plans.md), make a group its container by setting the `container` property on a plan object.</span></span> <span data-ttu-id="ce698-116">Os planos devem estar contidos em um recurso com suporte.</span><span class="sxs-lookup"><span data-stu-id="ce698-116">Plans must be contained by a supported resource.</span></span>

><span data-ttu-id="ce698-117">**Observação:** o usuário que está criando o plano deve ser membro do grupo que conterá o plano.</span><span class="sxs-lookup"><span data-stu-id="ce698-117">**Note:** The user who is creating the plan must be a member of the group that will contain the plan.</span></span> <span data-ttu-id="ce698-118">Ao criar um novo grupo usando [Criar grupo](../api/group-post-groups.md), você não é adicionado ao grupo como membro.</span><span class="sxs-lookup"><span data-stu-id="ce698-118">When you create a new group by using [Create group](../api/group-post-groups.md), you are not added to the group as a member.</span></span> <span data-ttu-id="ce698-119">Depois que o grupo for criado, adicione a si mesmo como membro usando [membros de postagem do grupo](../api/group-post-members.md).</span><span class="sxs-lookup"><span data-stu-id="ce698-119">After the group is created, add yourself as a member by using [group post members](../api/group-post-members.md).</span></span>

## <a name="plans"></a><span data-ttu-id="ce698-120">Planos</span><span class="sxs-lookup"><span data-stu-id="ce698-120">Plans</span></span>

<span data-ttu-id="ce698-121">Os [planos](plannerplan.md) são os contêineres das [tarefas](plannertask.md).</span><span class="sxs-lookup"><span data-stu-id="ce698-121">[Plans](plannerplan.md) are the containers of [tasks](plannertask.md).</span></span>
<span data-ttu-id="ce698-122">Para [criar uma tarefa em um plano](../api/planner-post-tasks.md), defina a propriedade `planId` no objeto da tarefa como a ID do plano ao criar a tarefa.</span><span class="sxs-lookup"><span data-stu-id="ce698-122">To [create a task in a plan](../api/planner-post-tasks.md), set the `planId` property on the task object to the ID of the plan while creating the task.</span></span>
<span data-ttu-id="ce698-123">No momento, as tarefas não podem ser criadas sem planos.</span><span class="sxs-lookup"><span data-stu-id="ce698-123">Tasks currently cannot be created without plans.</span></span>
<span data-ttu-id="ce698-124">Para [recuperar as tarefas em um plano de](../api/plannerplan-list-tasks.md), faça a solicitação HTTP a seguir.</span><span class="sxs-lookup"><span data-stu-id="ce698-124">To [retrieve the tasks in a plan](../api/plannerplan-list-tasks.md), make the following HTTP request.</span></span>

``` http
GET /planner/plans/{plan-id}/tasks
```

## <a name="tasks"></a><span data-ttu-id="ce698-125">Tarefas</span><span class="sxs-lookup"><span data-stu-id="ce698-125">Tasks</span></span>

<span data-ttu-id="ce698-p106">Cada tarefa pode ser atribuída a um usuário ao adicionar uma [atribuição](plannerassignment.md) à propriedade [assignments](plannerassignments.md) no objeto task. A ID do usuário ao qual a tarefa será atribuída é o nome da propriedade open em `assignments`. Além disso, a propriedade `orderHint` na atribuição deve ser especificada.</span><span class="sxs-lookup"><span data-stu-id="ce698-p106">Each task can be assigned to a user by adding an [assignment](plannerassignment.md) in the [assignments](plannerassignments.md) property on the task object. The ID of the user to assign the task is the name of the open property on `assignments`, and the `orderHint` property on the assignment must be specified.</span></span>

## <a name="task-and-plan-details"></a><span data-ttu-id="ce698-128">Detalhes de planos e tarefas</span><span class="sxs-lookup"><span data-stu-id="ce698-128">Task and plan details</span></span>

<span data-ttu-id="ce698-p107">Os recursos do Planner são organizados em objetos básicos e objetos detalhados. Os objetos básicos oferecem acesso às propriedades comuns dos recursos, adequadas para modos de exibição de lista. No entanto, os objetos detalhados fornecem acesso a grandes propriedades dos recursos, adequadas para modos de exibição de busca detalhada.</span><span class="sxs-lookup"><span data-stu-id="ce698-p107">Planner resources are arranged into basic objects and detail objects. Basic objects provide access to common properties of the resources, suitable for list views, while the detail objects provide access to large properties of the resources suitable for drill down views.</span></span>

## <a name="visualization"></a><span data-ttu-id="ce698-131">Visualização</span><span class="sxs-lookup"><span data-stu-id="ce698-131">Visualization</span></span>

<span data-ttu-id="ce698-132">Além do plano de dados e tarefas, a API do Planner também oferece recursos para criar uma visualização comum de dados nos clientes.</span><span class="sxs-lookup"><span data-stu-id="ce698-132">Aside from task and plan data, the Planner API also provides resources for creating a common visualization of data across clients.</span></span> <span data-ttu-id="ce698-133">Há vários tipos de visualização de dados disponíveis para as tarefas, conforme listado na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="ce698-133">Several types of visualization data are available for tasks, as listed in the following table.</span></span>

| <span data-ttu-id="ce698-134">As tarefas são exibidas como</span><span class="sxs-lookup"><span data-stu-id="ce698-134">Tasks are shown as</span></span>                                                                        | <span data-ttu-id="ce698-135">As tarefas são ordenadas com informações de</span><span class="sxs-lookup"><span data-stu-id="ce698-135">Tasks are ordered with information from</span></span>                                         |
| :---------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------ |
| <span data-ttu-id="ce698-136">Lista plana (tarefas em um plano)</span><span class="sxs-lookup"><span data-stu-id="ce698-136">Flat list (tasks in a plan)</span></span>                                                               | <span data-ttu-id="ce698-137">Propriedade `orderHint` em tarefas</span><span class="sxs-lookup"><span data-stu-id="ce698-137">`orderHint` property on tasks</span></span>                                                   |
| <span data-ttu-id="ce698-138">Lista plana (tarefas atribuídas a um usuário)</span><span class="sxs-lookup"><span data-stu-id="ce698-138">Flat list (tasks assigned to a user)</span></span>                                                      | <span data-ttu-id="ce698-139">Propriedade `assigneePriority` em tarefas</span><span class="sxs-lookup"><span data-stu-id="ce698-139">`assigneePriority` property on tasks</span></span>                                            |
| <span data-ttu-id="ce698-140">Modo de exibição de quadro com colunas para os destinatários (atribuídos ao quadro de tarefas)</span><span class="sxs-lookup"><span data-stu-id="ce698-140">Board view with columns for assignees (assigned to task board)</span></span>                            | <span data-ttu-id="ce698-141">Objeto [assignedToTaskBoardTaskFormat](plannerassignedtotaskboardtaskformat.md)</span><span class="sxs-lookup"><span data-stu-id="ce698-141">[assignedToTaskBoardTaskFormat](plannerassignedtotaskboardtaskformat.md) object</span></span> |
| <span data-ttu-id="ce698-142">O modo de exibição de quadro com colunas para o andamento da tarefa na direção de conclusão (quadro de tarefa de andamento)</span><span class="sxs-lookup"><span data-stu-id="ce698-142">Board view with columns for progress of the task towards completion (progress task board)</span></span> | <span data-ttu-id="ce698-143">Objeto [progressTaskBoardTaskFormat](plannerprogresstaskboardtaskformat.md)</span><span class="sxs-lookup"><span data-stu-id="ce698-143">[progressTaskBoardTaskFormat](plannerprogresstaskboardtaskformat.md) object</span></span>     |
| <span data-ttu-id="ce698-144">Modo de exibição de quadro com colunas personalizadas de tarefas (quadro de tarefa do bucket):</span><span class="sxs-lookup"><span data-stu-id="ce698-144">Board view with custom columns of tasks (bucket task board):</span></span>                              | <span data-ttu-id="ce698-145">Objeto [bucketTaskBoardTaskFormat](plannerbuckettaskboardtaskformat.md)</span><span class="sxs-lookup"><span data-stu-id="ce698-145">[bucketTaskBoardTaskFormat](plannerbuckettaskboardtaskformat.md) object</span></span>         |

<span data-ttu-id="ce698-146">As colunas personalizadas no quadro de tarefas do bucket são representadas pelos objetos [bucket](plannerbucket.md) e, sua ordem, pela propriedade `orderHint` no objeto.</span><span class="sxs-lookup"><span data-stu-id="ce698-146">The custom columns in the bucket task board are represented by [bucket](plannerbucket.md) objects, and their order by `orderHint` property on the object.</span></span>

<span data-ttu-id="ce698-147">Toda a ordem é controlada pelos princípios descritos em [Dicas de ordem do Planner](planner-order-hint-format.md).</span><span class="sxs-lookup"><span data-stu-id="ce698-147">All the ordering is controlled by the principles described in [Planner order hints](planner-order-hint-format.md).</span></span>

## <a name=""></a><span data-ttu-id="ce698-148"><a name="delta">Controlar alterações usando a consulta delta</a></span><span class="sxs-lookup"><span data-stu-id="ce698-148"><a name="delta">Track changes using delta query</a></span></span>

<span data-ttu-id="ce698-149">A consulta delta do Planner dá suporte a objetos consulta nos quais o usuário está inscrito.</span><span class="sxs-lookup"><span data-stu-id="ce698-149">Planner's delta query supports querying objects that the user is subscribed to.</span></span>

<span data-ttu-id="ce698-150">Os usuários ficam inscritos nos seguintes objetos.</span><span class="sxs-lookup"><span data-stu-id="ce698-150">Users are subscribed to the following objects.</span></span>

| <span data-ttu-id="ce698-151">Tipo de recurso do Planner</span><span class="sxs-lookup"><span data-stu-id="ce698-151">Planner resource type</span></span> | <span data-ttu-id="ce698-152">Instâncias assinadas</span><span class="sxs-lookup"><span data-stu-id="ce698-152">Subscribed instances</span></span>                                                                                                                                                                                    |
| :-------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| <span data-ttu-id="ce698-153">Tarefas</span><span class="sxs-lookup"><span data-stu-id="ce698-153">Tasks</span></span>                 | <ul><li><span data-ttu-id="ce698-154">Criadas pelo usuário</span><span class="sxs-lookup"><span data-stu-id="ce698-154">Created by the user</span></span></li><li><span data-ttu-id="ce698-155">Atribuídas ao usuário</span><span class="sxs-lookup"><span data-stu-id="ce698-155">Assigned to the user</span></span></li><li><span data-ttu-id="ce698-156">Pertencentes a um plano que o usuário possui</span><span class="sxs-lookup"><span data-stu-id="ce698-156">Belong to a plan that the user owns</span></span></li><li><span data-ttu-id="ce698-157">Contidas em um plano compartilhado com o usuário por meio da coleção **SharedWith** do plano</span><span class="sxs-lookup"><span data-stu-id="ce698-157">Contained in a plan shared with the user through the plan's **SharedWith** collection</span></span></li> |
| <span data-ttu-id="ce698-158">Planos</span><span class="sxs-lookup"><span data-stu-id="ce698-158">Plans</span></span>                 | <ul><li><span data-ttu-id="ce698-159">Compartilhado com o usuário por meio da coleção **SharedWith** do plano</span><span class="sxs-lookup"><span data-stu-id="ce698-159">Shared with the user through the plan's **SharedWith** collection</span></span></li></ul>                                                                                                                     |
| <span data-ttu-id="ce698-160">Buckets</span><span class="sxs-lookup"><span data-stu-id="ce698-160">Buckets</span></span>               | <ul><li><span data-ttu-id="ce698-161">Contidas em um plano compartilhado com o usuário por meio da coleção **SharedWith** do plano</span><span class="sxs-lookup"><span data-stu-id="ce698-161">Contained in a plan shared with the user through the plan's **SharedWith** collection</span></span></li></ul>                                                                                                 |

### <a name=""></a><span data-ttu-id="ce698-162"><a name="objectcache">Preencher o cache de objetos para consultas delta</a></span><span class="sxs-lookup"><span data-stu-id="ce698-162"><a name="objectcache">Populate the object cache for delta queries</a></span></span>

<span data-ttu-id="ce698-163">Se quiser usar a API de consulta delta do Planner, mantenha um cache local de objetos nos quais o usuário está interessado em observar para aplicar as alterações do feed de resposta delta.</span><span class="sxs-lookup"><span data-stu-id="ce698-163">If you want to use the Planner delta query API, maintain a local cache of objects that the user is interested in observing in order to apply the changes from the delta response feed.</span></span>

<span data-ttu-id="ce698-164">Os tipos de objetos de conteúdo delta que a consulta delta do Planner pode retornar atualmente serão:</span><span class="sxs-lookup"><span data-stu-id="ce698-164">The delta payload objects that the Planner delta query can currently return will be of the following types:</span></span>

* [<span data-ttu-id="ce698-165">plannerTask</span><span class="sxs-lookup"><span data-stu-id="ce698-165">plannerTask</span></span>](plannertask.md)
* [<span data-ttu-id="ce698-166">plannerTaskDetails</span><span class="sxs-lookup"><span data-stu-id="ce698-166">plannerTaskDetails</span></span>](plannertaskdetails.md)
* [<span data-ttu-id="ce698-167">plannerPlan</span><span class="sxs-lookup"><span data-stu-id="ce698-167">plannerPlan</span></span>](plannerplan.md)
* [<span data-ttu-id="ce698-168">plannerPlanDetails</span><span class="sxs-lookup"><span data-stu-id="ce698-168">plannerPlanDetails</span></span>](plannerplandetails.md)
* [<span data-ttu-id="ce698-169">plannerBucket</span><span class="sxs-lookup"><span data-stu-id="ce698-169">plannerBucket</span></span>](plannerbucket.md)
* [<span data-ttu-id="ce698-170">plannerAssignedToTaskBoardTaskFormat</span><span class="sxs-lookup"><span data-stu-id="ce698-170">plannerAssignedToTaskBoardTaskFormat</span></span>](plannerassignedtotaskboardtaskformat.md)
* [<span data-ttu-id="ce698-171">plannerBucketTaskBoardTaskFormat</span><span class="sxs-lookup"><span data-stu-id="ce698-171">plannerBucketTaskBoardTaskFormat</span></span>](plannerbuckettaskboardtaskformat.md)
* [<span data-ttu-id="ce698-172">plannerAssignedToTaskBoardTaskFormat</span><span class="sxs-lookup"><span data-stu-id="ce698-172">plannerAssignedToTaskBoardTaskFormat</span></span>](plannerassignedtotaskboardtaskformat.md)

<span data-ttu-id="ce698-173">Use os métodos `GET` correspondente nos recursos para obter o estado inicial de objetos a ser preenchido no cache local.</span><span class="sxs-lookup"><span data-stu-id="ce698-173">Use the corresponding `GET` methods on the resource to obtain the initial state of objects to be populated into the local cache.</span></span>

### <a name="differentiating-between-object-creation-and-object-modification"></a><span data-ttu-id="ce698-174">Diferenciar entre a criação de objeto e a modificação de objeto</span><span class="sxs-lookup"><span data-stu-id="ce698-174">Differentiating between object creation and object modification</span></span>

<span data-ttu-id="ce698-175">Em determinados cenários, o autor da chamada pode querer distinguir entre a criação de objeto e a modificação do objeto dentro do feed de consulta delta do Planner.</span><span class="sxs-lookup"><span data-stu-id="ce698-175">In certain scenarios, the caller might want to distinguish between object creation and object modification within Planner's delta query feed.</span></span>

<span data-ttu-id="ce698-176">Essas diretrizes podem ser usadas para inferir a criação do objeto:</span><span class="sxs-lookup"><span data-stu-id="ce698-176">These guidelines can be used to infer object creation:</span></span>

* <span data-ttu-id="ce698-177">A propriedade `createdBy` só aparecerá em objetos recém-criados.</span><span class="sxs-lookup"><span data-stu-id="ce698-177">The `createdBy` property will only appear on newly created objects.</span></span>
* <span data-ttu-id="ce698-178">Um objeto `plannerTask` recém-criado será seguido pelo seu objeto `plannerTaskDetails` correspondente.</span><span class="sxs-lookup"><span data-stu-id="ce698-178">A newly created `plannerTask` object will be followed by its corresponding `plannerTaskDetails` object.</span></span>
* <span data-ttu-id="ce698-179">Um objeto `plannerPlan` recém-criado será seguido pelo seu objeto `plannerPlanDetails` correspondente.</span><span class="sxs-lookup"><span data-stu-id="ce698-179">A newly created `plannerPlan` object will be followed by its corresponding `plannerPlanDetails` object.</span></span>

### <a name="usage"></a><span data-ttu-id="ce698-180">Uso</span><span class="sxs-lookup"><span data-stu-id="ce698-180">Usage</span></span>

<span data-ttu-id="ce698-181">O autor da chamada deve ter um cache que contenha objetos inscritos.</span><span class="sxs-lookup"><span data-stu-id="ce698-181">The caller is expected to have a cache containing subscribed objects.</span></span> <span data-ttu-id="ce698-182">Para obter detalhes sobre como preencher o cache local de objetos inscritos, confira [Preencher o cache de objetos para consultas delta](#populate-the-object-cache-for-delta-queries).</span><span class="sxs-lookup"><span data-stu-id="ce698-182">For details about how to fill the local cache of subscribed objects, see [Populate the object cache for delta queries](#populate-the-object-cache-for-delta-queries).</span></span>

<span data-ttu-id="ce698-183">O fluxo de chamadas da consulta delta do Planner é assim:</span><span class="sxs-lookup"><span data-stu-id="ce698-183">Planner's delta query call flow is as follows:</span></span>

1. <span data-ttu-id="ce698-184">O autor da chamada inicia uma consulta de sincronização delta, obtendo um `nextLink` e uma coleção de alterações vazia.</span><span class="sxs-lookup"><span data-stu-id="ce698-184">The caller initiates a delta sync query, obtaining a `nextLink` and an empty collection of changes.</span></span>
2. <span data-ttu-id="ce698-185">O autor da chamada deve [preencher o cache do objeto para consultas delta](#populate-the-object-cache-for-delta-queries) com objetos nos quais o usuário esteja inscrito, atualizando o cache.</span><span class="sxs-lookup"><span data-stu-id="ce698-185">The caller must [populate the object cache for delta queries](#populate-the-object-cache-for-delta-queries) with objects that the user is subscribed to, updating its cache.</span></span>
3. <span data-ttu-id="ce698-186">O autor da chamada segue o `nextLink` fornecido na consulta de sincronização delta inicial para obter um novo `deltaLink` para alterações desde a etapa anterior.</span><span class="sxs-lookup"><span data-stu-id="ce698-186">The caller follows the `nextLink` provided in the initial delta sync query to obtain a new `deltaLink` to any changes since previous step.</span></span>
4. <span data-ttu-id="ce698-187">O autor da chamada aplica as alterações da resposta delta retornada nos objetos em seu cache.</span><span class="sxs-lookup"><span data-stu-id="ce698-187">The caller applies the changes in the returned delta response to the objects in its cache.</span></span>
5. <span data-ttu-id="ce698-188">O autor da chamada segue o novo deltaLink para obter o próximo deltaLink e alterações desde que o `deltaLink` atual foi gerado.</span><span class="sxs-lookup"><span data-stu-id="ce698-188">The caller follows the new deltaLink to obtain the next deltaLink and changes since the current `deltaLink` was generated.</span></span>
6. <span data-ttu-id="ce698-189">O autor da chamada aplica as alterações (caso existam) e espera um pouco antes de executar novamente as etapas anterior e atual.</span><span class="sxs-lookup"><span data-stu-id="ce698-189">The caller applies the changes (if any) and waits a short time before rerunning the previous step and this step.</span></span>

## <a name="planner-resource-versioning"></a><span data-ttu-id="ce698-190">Versão do recurso do Planner</span><span class="sxs-lookup"><span data-stu-id="ce698-190">Planner resource versioning</span></span>

<span data-ttu-id="ce698-191">O Planner cria versões de todos os recursos usando **etags**.</span><span class="sxs-lookup"><span data-stu-id="ce698-191">Planner versions all resources using **etags**.</span></span> <span data-ttu-id="ce698-192">Esses **etags** são retornados com a propriedade `@odata.etag` em cada recurso.</span><span class="sxs-lookup"><span data-stu-id="ce698-192">These **etags** are returned with `@odata.etag` property on each resource.</span></span> <span data-ttu-id="ce698-193">As solicitações `PATCH` e `DELETE` requerem que a última **etag** conhecida pelo cliente seja especificada com um cabeçalho `If-Match`.</span><span class="sxs-lookup"><span data-stu-id="ce698-193">`PATCH` and `DELETE` requests require the last **etag** known by the client to be specified with a `If-Match` header.</span></span>
<span data-ttu-id="ce698-194">O Planner permite alterações em versões mais antigas de recursos, se a alteração pretendida não estiver em conflito com as alterações mais recentes aceitas pelo serviço do Planner no mesmo recurso.</span><span class="sxs-lookup"><span data-stu-id="ce698-194">Planner allows changes to older versions of resources, if the intended change does not conflict with newer changes accepted by the Planner service on the same resource.</span></span> <span data-ttu-id="ce698-195">Os clientes podem identificar qual **etag** para o mesmo recurso é mais recente ao calcular qual valor de **etag** é maior em comparação com a cadeia de caracteres ordinal.</span><span class="sxs-lookup"><span data-stu-id="ce698-195">The clients can identify which **etag** for the same resource is newer by calculating which **etag** value is greater in ordinal string comparison.</span></span>
<span data-ttu-id="ce698-196">Cada recurso tem uma **etag** única.</span><span class="sxs-lookup"><span data-stu-id="ce698-196">Each resource has a unique **etag**.</span></span> <span data-ttu-id="ce698-197">Não há comparações entre os valores de etags de recursos diferentes, incluindo aqueles com relações de confinamento.</span><span class="sxs-lookup"><span data-stu-id="ce698-197">Etag values for different resources, including those with containment relationships, cannot be compared.</span></span>
<span data-ttu-id="ce698-198">Espera-se que os aplicativos cliente tratem dos controles de versão relacionados aos [códigos de erro](/graph/errors) **409** e **412** lendo a versão mais recente do item e resolvendo as alterações conflitantes.</span><span class="sxs-lookup"><span data-stu-id="ce698-198">The client apps are expected to handle versioning related [error codes](/graph/errors) **409** and **412** by reading the latest version of the item and resolving the conflicting changes.</span></span>

## <a name="common-planner-error-conditions"></a><span data-ttu-id="ce698-199">Condições de erro comuns do Planner</span><span class="sxs-lookup"><span data-stu-id="ce698-199">Common Planner error conditions</span></span>

<span data-ttu-id="ce698-200">Além dos [erros gerais](/graph/errors) que se aplicam ao Microsoft Graph, algumas condições de erro são específicas da API do Planner.</span><span class="sxs-lookup"><span data-stu-id="ce698-200">In addition to [general errors](/graph/errors) that apply to Microsoft Graph, some error conditions are specific to the Planner API.</span></span>

### <a name="400-bad-request"></a><span data-ttu-id="ce698-201">400 Solicitação Incorreta</span><span class="sxs-lookup"><span data-stu-id="ce698-201">400 Bad request</span></span>

<span data-ttu-id="ce698-202">Em alguns cenários comuns, as solicitações `POST` e `PATCH` podem retornar um código de status 400.</span><span class="sxs-lookup"><span data-stu-id="ce698-202">In some common scenarios, `POST` and `PATCH` requests can return a 400 status code.</span></span> <span data-ttu-id="ce698-203">Estas são algumas das mais comuns:</span><span class="sxs-lookup"><span data-stu-id="ce698-203">The following are some of the common causes:</span></span>

* <span data-ttu-id="ce698-p112">As propriedades Open Type não têm os tipos corretos ou o tipo não foi especificado ou não contêm propriedades. Por exemplo, as propriedades plannerAssignments com valores complexos precisam declarar a propriedade  com valor .</span><span class="sxs-lookup"><span data-stu-id="ce698-p112">Open Type properties are not of correct types, or the type isn't specified, or they do not contain any properties. For example, [plannerAssignments](plannerassignments.md) properties with complex values need to declare `@odata.type` property with value `microsoft.graph.plannerAssignment`.</span></span>
* <span data-ttu-id="ce698-p113">Os valores da dica de ordem não têm o formato correto. Por exemplo, um valor de dica de ordem está sendo definido diretamente como o valor retornado ao cliente.</span><span class="sxs-lookup"><span data-stu-id="ce698-p113">Order hint values do not have the [correct format](planner-order-hint-format.md). For example, an order hint value is being set directly to the value returned to the client.</span></span>
* <span data-ttu-id="ce698-p114">Os dados são ilogicamente inconsistentes. Por exemplo, a data de início da tarefa é posterior à data de conclusão da tarefa.</span><span class="sxs-lookup"><span data-stu-id="ce698-p114">The data is logically inconsistent. For example, start date of task is later than due date of the task.</span></span>

### <a name="403-forbidden"></a><span data-ttu-id="ce698-210">403 Proibido</span><span class="sxs-lookup"><span data-stu-id="ce698-210">403 Forbidden</span></span>

<span data-ttu-id="ce698-211">Além dos erros gerais, a API do Planner também retorna esse código de status 403 quando um limite definido pelo serviço é excedido.</span><span class="sxs-lookup"><span data-stu-id="ce698-211">In addition to the general errors, the Planner API also returns the 403 status code when a service-defined limit has been exceeded.</span></span> <span data-ttu-id="ce698-212">Se esse for o caso, a propriedade `code` no tipo de recurso do erro indicará o tipo do limite excedido pela solicitação.</span><span class="sxs-lookup"><span data-stu-id="ce698-212">If this is the case, the `code` property on the error resource type will indicate the type of the limit exceeded by the request.</span></span>
<span data-ttu-id="ce698-213">Os valores possíveis para os tipos de limite são:</span><span class="sxs-lookup"><span data-stu-id="ce698-213">The following are the possible values for the limit types.</span></span>

| <span data-ttu-id="ce698-214">Valor</span><span class="sxs-lookup"><span data-stu-id="ce698-214">Value</span></span>                         | <span data-ttu-id="ce698-215">Descrição</span><span class="sxs-lookup"><span data-stu-id="ce698-215">Description</span></span>                                                                                                                                                                                              |
| :---------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <span data-ttu-id="ce698-216">MaximumProjectsOwnedByUser</span><span class="sxs-lookup"><span data-stu-id="ce698-216">MaximumProjectsOwnedByUser</span></span>    | <span data-ttu-id="ce698-p116">Foi excedido o número máximo de Planos pertencentes ao limite do grupo. Esse limite se baseia na propriedade `owner` no recurso [plannerPlan](plannerplan.md).</span><span class="sxs-lookup"><span data-stu-id="ce698-p116">The maximum number of Plans owned by a group limit has been exceeded. This limit is based on the `owner` property on the [plannerPlan](plannerplan.md) resource.</span></span>                                         |
| <span data-ttu-id="ce698-219">MaximumProjectsSharedWithUser</span><span class="sxs-lookup"><span data-stu-id="ce698-219">MaximumProjectsSharedWithUser</span></span> | <span data-ttu-id="ce698-p117">Foi excedido o número máximo de Planos compartilhados com um limite de usuário.  Esse limite se baseia na propriedade `sharedWith` no recurso [plannerPlanDetails](plannerplandetails.md).</span><span class="sxs-lookup"><span data-stu-id="ce698-p117">The maximum number of Plans shared with a user limit has been exceeded.  This limit is based on the `sharedWith` property on the [plannerPlanDetails](plannerplandetails.md) resource.</span></span>                   |
| <span data-ttu-id="ce698-222">MaximumTasksCreatedByUser</span><span class="sxs-lookup"><span data-stu-id="ce698-222">MaximumTasksCreatedByUser</span></span>     | <span data-ttu-id="ce698-p118">Foi excedido o número máximo de Tarefas criadas pelo limite do usuário. Esse limite se baseia na propriedade `createdBy` no recurso [plannerTask](plannertask.md).</span><span class="sxs-lookup"><span data-stu-id="ce698-p118">The maximum number of Tasks created by a user limit has been exceeded. This limit is based on the `createdBy` property on the [plannerTask](plannertask.md) resource.</span></span>                                    |
| <span data-ttu-id="ce698-225">MaximumTasksAssignedToUser</span><span class="sxs-lookup"><span data-stu-id="ce698-225">MaximumTasksAssignedToUser</span></span>    | <span data-ttu-id="ce698-p119">Foi excedido o número máximo de Tarefas atribuídas ao limite do usuário. Esse limite se baseia na propriedade `assignments` no recurso [plannerTask](plannertask.md).</span><span class="sxs-lookup"><span data-stu-id="ce698-p119">The maximum number of Tasks assigned to a user limit has been exceeded. This limit is based on the `assignments` property on the [plannerTask](plannertask.md) resource.</span></span>                                 |
| <span data-ttu-id="ce698-228">MaximumTasksInProject</span><span class="sxs-lookup"><span data-stu-id="ce698-228">MaximumTasksInProject</span></span>         | <span data-ttu-id="ce698-p120">Foi excedido o número máximo de Tarefas no limite de um Plano. Esse limite se baseia na propriedade `planId` no recurso [plannerTask](plannertask.md).</span><span class="sxs-lookup"><span data-stu-id="ce698-p120">The maximum number of Tasks in a Plan limit has been exceeded. This limit is based on the `planId` property on the [plannerTask](plannertask.md) resource.</span></span>                                               |
| <span data-ttu-id="ce698-231">MaximumActiveTasksInProject</span><span class="sxs-lookup"><span data-stu-id="ce698-231">MaximumActiveTasksInProject</span></span>   | <span data-ttu-id="ce698-p121">Foi excedido o número máximo de Tarefas que não foram concluídas no limite de um Plano. Esse limite se baseia nas propriedades `planId` e `percentComplete` no recurso [plannerTask](plannertask.md).</span><span class="sxs-lookup"><span data-stu-id="ce698-p121">The maximum number of Tasks that aren't completed in a Plan limit has been exceeded. This limit is based on the `planId` and `percentComplete` properties on the [plannerTask](plannertask.md) resource.</span></span> |
| <span data-ttu-id="ce698-234">MaximumBucketsInProject</span><span class="sxs-lookup"><span data-stu-id="ce698-234">MaximumBucketsInProject</span></span>       | <span data-ttu-id="ce698-p122">Foi excedido o número máximo de Buckets no limite de um Plano. Esse limite se baseia na propriedade `planId` no recurso [plannerBucket](plannerbucket.md).</span><span class="sxs-lookup"><span data-stu-id="ce698-p122">The maximum number of Buckets in a Plan limit has been exceeded. This limit is based on the `planId` property on the [plannerBucket](plannerbucket.md) resource.</span></span>                                         |
| <span data-ttu-id="ce698-237">MaximumUsersSharedWithProject</span><span class="sxs-lookup"><span data-stu-id="ce698-237">MaximumUsersSharedWithProject</span></span> | <span data-ttu-id="ce698-238">A propriedade `sharedWith` no recurso [plannerPlanDetails](plannerplandetails.md) contém muitos valores.</span><span class="sxs-lookup"><span data-stu-id="ce698-238">The `sharedWith` property on the [plannerPlanDetails](plannerplandetails.md) resource contains too many values.</span></span>                                                                                          |
| <span data-ttu-id="ce698-239">MaximumReferencesOnTask</span><span class="sxs-lookup"><span data-stu-id="ce698-239">MaximumReferencesOnTask</span></span>       | <span data-ttu-id="ce698-240">A propriedade `references` no recurso [plannerTaskDetails](plannertaskdetails.md) contém muitos valores.</span><span class="sxs-lookup"><span data-stu-id="ce698-240">The `references` property on the [plannerTaskDetails](plannertaskdetails.md) resource contains too many values.</span></span>                                                                                          |
| <span data-ttu-id="ce698-241">MaximumChecklistItemsOnTask</span><span class="sxs-lookup"><span data-stu-id="ce698-241">MaximumChecklistItemsOnTask</span></span>   | <span data-ttu-id="ce698-242">A propriedade `checklist` no recurso [plannerTaskDetails](plannertaskdetails.md) contém muitos valores.</span><span class="sxs-lookup"><span data-stu-id="ce698-242">The `checklist` property on the [plannerTaskDetails](plannertaskdetails.md) resource contains too many values.</span></span>                                                                                           |
| <span data-ttu-id="ce698-243">MaximumAssigneesInTasks</span><span class="sxs-lookup"><span data-stu-id="ce698-243">MaximumAssigneesInTasks</span></span>       | <span data-ttu-id="ce698-244">A propriedade `assignments` no recurso [plannerTask](plannertask.md) contém muitos valores.</span><span class="sxs-lookup"><span data-stu-id="ce698-244">The `assignments` property on the [plannerTask](plannertask.md) resource contains too many values.</span></span>                                                                                                       |
| <span data-ttu-id="ce698-245">MaximumFavoritePlansForUser</span><span class="sxs-lookup"><span data-stu-id="ce698-245">MaximumFavoritePlansForUser</span></span>   | <span data-ttu-id="ce698-246">A propriedade `favoritePlanReferences` no recurso [plannerUser](planneruser.md) contém muitos valores.</span><span class="sxs-lookup"><span data-stu-id="ce698-246">The `favoritePlanReferences` property on the [plannerUser](planneruser.md) resource contains too many values.</span></span>                                                                                            |
| <span data-ttu-id="ce698-247">MaximumRecentPlansForUser</span><span class="sxs-lookup"><span data-stu-id="ce698-247">MaximumRecentPlansForUser</span></span>     | <span data-ttu-id="ce698-248">A propriedade `recentPlanReferences` no recurso [plannerUser](planneruser.md) contém muitos valores.</span><span class="sxs-lookup"><span data-stu-id="ce698-248">The `recentPlanReferences` property on the [plannerUser](planneruser.md) resource contains too many values.</span></span>                                                                                              |
| <span data-ttu-id="ce698-249">MaximumContextsOnPlan</span><span class="sxs-lookup"><span data-stu-id="ce698-249">MaximumContextsOnPlan</span></span>         | <span data-ttu-id="ce698-250">A propriedade `contexts` no recurso [plannerPlan](plannerplan.md) contém muitos valores.</span><span class="sxs-lookup"><span data-stu-id="ce698-250">The `contexts` property on the [plannerPlan](plannerplan.md) resource contains too many values.</span></span>                                                                                                          |
| <span data-ttu-id="ce698-251">MaximumPlannerPlans</span><span class="sxs-lookup"><span data-stu-id="ce698-251">MaximumPlannerPlans</span></span>       | <span data-ttu-id="ce698-252">O grupo já contém um plano.</span><span class="sxs-lookup"><span data-stu-id="ce698-252">The group already contains a Plan.</span></span> <span data-ttu-id="ce698-253">Atualmente, os grupos só podem conter um plano.</span><span class="sxs-lookup"><span data-stu-id="ce698-253">Currently, groups can only contain one Plan.</span></span> <span data-ttu-id="ce698-254">**Observação:** alguns aplicativos da Microsoft podem ultrapassar esse limite.</span><span class="sxs-lookup"><span data-stu-id="ce698-254">**Note:** Some Microsoft apps can exceed this limit.</span></span> <span data-ttu-id="ce698-255">Futuramente, essa funcionalidade será estendida para todos os aplicativos.</span><span class="sxs-lookup"><span data-stu-id="ce698-255">In the future, we will extend this capability to all apps.</span></span>                                                                                                      |

### <a name="412-precondition-failed"></a><span data-ttu-id="ce698-256">412 Falha na Pré-condição</span><span class="sxs-lookup"><span data-stu-id="ce698-256">412 Precondition Failed</span></span>

<span data-ttu-id="ce698-257">Todas as solicitações `POST`, `PATCH` e `DELETE` da API do Planner exigem que o cabeçalho `If-Match` seja especificado com o último valor de etag conhecido do recurso que está sujeito à solicitação.</span><span class="sxs-lookup"><span data-stu-id="ce698-257">All Planer API `POST`, `PATCH`, and `DELETE` requests require the `If-Match` header to be specified with the last known etag value of the resource that is subject to the request.</span></span>
<span data-ttu-id="ce698-258">O código de status 412 também pode ser retornado se o valor da etag especificado na solicitação já não corresponder a uma versão do recurso no serviço.</span><span class="sxs-lookup"><span data-stu-id="ce698-258">The 412 status code can also be returned if the etag value specified in the request no longer matches a version of the resource in the service.</span></span> <span data-ttu-id="ce698-259">Nesse caso, os clientes devem ler o recurso novamente e obter uma nova etag.</span><span class="sxs-lookup"><span data-stu-id="ce698-259">In this case, the clients should read the resource again and get a new etag.</span></span>

## <a name="whats-new"></a><span data-ttu-id="ce698-260">O que há de novo</span><span class="sxs-lookup"><span data-stu-id="ce698-260">What's new</span></span>
<span data-ttu-id="ce698-261">Saiba mais sobre os [novos recursos e atualizações mais recentes](/graph/whats-new-overview) para este conjunto de APIs.</span><span class="sxs-lookup"><span data-stu-id="ce698-261">Find out about the [latest new features and updates](/graph/whats-new-overview) for this API set.</span></span>

