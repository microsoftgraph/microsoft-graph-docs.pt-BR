---
title: Recursos de seleção e filtragem de usuários na Conexão de Dados do Microsoft Graph
description: Descreve como usar a Conexão de Dados do Microsoft Graph ara selecionar os usuários cujos dados serão extraídos e filtrar os dados retornados.
author: fercobo-msft
localization_priority: Priority
ms.prod: data-connect
ms.openlocfilehash: c29c088ac4efc7d286e8d10b92edd5bcbac373a6
ms.sourcegitcommit: 276a13a37c3772689dfc71f7cd47586c9581f27d
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 05/24/2021
ms.locfileid: "52629375"
---
# <a name="user-selection-and-filtering-capabilities-in-microsoft-graph-data-connect"></a><span data-ttu-id="b30ac-103">Recursos de seleção e filtragem de usuários na Conexão de Dados do Microsoft Graph</span><span class="sxs-lookup"><span data-stu-id="b30ac-103">User selection and filtering capabilities in Microsoft Graph Data Connect</span></span>

<span data-ttu-id="b30ac-104">Você pode usar a Conexão de Dados do Microsoft Graph para selecionar os usuários cujos dados serão extraídos, e para aplicar filtros para limitar os dados retornados.</span><span class="sxs-lookup"><span data-stu-id="b30ac-104">You can use Microsoft Graph Data Connect to select the users that you want to extract data for, and to include filters to limit the data returned.</span></span> <span data-ttu-id="b30ac-105">Este artigo descreve as opções que a Conexão de Dados suporta para filtragem e seleção do usuário.</span><span class="sxs-lookup"><span data-stu-id="b30ac-105">This article describes the user selection options that Data Connect provides and the filtering that it supports.</span></span>

## <a name="user-selection"></a><span data-ttu-id="b30ac-106">Seleção de usuário</span><span class="sxs-lookup"><span data-stu-id="b30ac-106">User selection</span></span>

<span data-ttu-id="b30ac-107">Você pode executar pipelines em um conjunto de usuários.</span><span class="sxs-lookup"><span data-stu-id="b30ac-107">You can run pipelines on a set of users.</span></span> <span data-ttu-id="b30ac-108">As opções para seleção de usuário são as seguintes:</span><span class="sxs-lookup"><span data-stu-id="b30ac-108">The following are the options for user selection:</span></span>

- <span data-ttu-id="b30ac-109">Todos os usuários da organização</span><span class="sxs-lookup"><span data-stu-id="b30ac-109">All users within the organization</span></span>
- <span data-ttu-id="b30ac-110">Execução em grupos de até dez usuários da organização</span><span class="sxs-lookup"><span data-stu-id="b30ac-110">Up to 10 groups of users within the organization to run on</span></span>
- <span data-ttu-id="b30ac-111">Um conjunto de usuários com base em um predicado com as propriedades de usuário do Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="b30ac-111">A set of users based on a predicate consisting of Azure Active Directory user properties</span></span>

<span data-ttu-id="b30ac-112">Especifique a seleção de usuários em OrigemDoConjuntoDeDados da atividade de cópia do Azure Data Factory.</span><span class="sxs-lookup"><span data-stu-id="b30ac-112">Specify your user selection in the SourceDataSet of the Azure Data Factory copy activity.</span></span> <span data-ttu-id="b30ac-113">Para executar em uma lista de grupos, adicione um novo campo **GruposPermitidos** em **PropriedadesDoTipo** e aplique essa definição para uma lista de até dez **IDs de objeto** de um grupo, separados por vírgulas.</span><span class="sxs-lookup"><span data-stu-id="b30ac-113">To run on a list of groups, add a new field **allowedGroups** under **typeProperties** and set this to a list of up to 10 groups' **Object Ids** separated by commas.</span></span> <span data-ttu-id="b30ac-114">Se nenhum grupo for especificado por padrão, os dados serão extraídos da organização inteira.</span><span class="sxs-lookup"><span data-stu-id="b30ac-114">If no groups are specified by default, data will be extracted for the entire organization.</span></span>

<span data-ttu-id="b30ac-115">Para especificar um predicado para executar no locatário inteiro, adicione um novo campo **EscopoDeFiltroUriDoUsuário** em **PropriedadesDoTipo** e o defina no predicado.</span><span class="sxs-lookup"><span data-stu-id="b30ac-115">To specify a predicate to run on the entire tenant, add a new field **userScopeFilterUri** under **typeProperties** and set this to the predicate.</span></span> <span data-ttu-id="b30ac-116">O formato do predicado deve coincidir com o formato de consulta de APIs do Microsoft Graph.</span><span class="sxs-lookup"><span data-stu-id="b30ac-116">The predicate format should match the query format of Microsoft Graph APIs.</span></span> <span data-ttu-id="b30ac-117">Se você quiser limitar a seleção para os usuários que funcionam no departamento de finanças, você pode usar `https://graph.microsoft.com/v1.0/users?$filter=Department eq 'Finance'`, por exemplo.</span><span class="sxs-lookup"><span data-stu-id="b30ac-117">For example, if you want to limit the selection to users who work in the Finance department, you can use `https://graph.microsoft.com/v1.0/users?$filter=Department eq 'Finance'`.</span></span> <span data-ttu-id="b30ac-118">Se desejar limitar a seleção a um usuário, você pode usar o `https://graph.microsoft.com/v1.0/users?$filter=mail eq 'contosouser1@contoso.com'`.</span><span class="sxs-lookup"><span data-stu-id="b30ac-118">If you want to limit the selection to one user, you can use `https://graph.microsoft.com/v1.0/users?$filter=mail eq 'contosouser1@contoso.com'`.</span></span>

<span data-ttu-id="b30ac-119">A consulta retornará somente usuários dentro da organização do Microsoft 365 que você está pesquisando.</span><span class="sxs-lookup"><span data-stu-id="b30ac-119">Your query will only return users within the Microsoft 365 organization that you're querying.</span></span> <span data-ttu-id="b30ac-120">Os usuários convidados e caixas de correio que não são de usuários não serão retornadas.</span><span class="sxs-lookup"><span data-stu-id="b30ac-120">Guest users and non-user mailboxes will not be returned.</span></span>

## <a name="filtering"></a><span data-ttu-id="b30ac-121">Filtragem</span><span class="sxs-lookup"><span data-stu-id="b30ac-121">Filtering</span></span>

<span data-ttu-id="b30ac-122">Você pode limitar os resultados extraídos de sua consulta usando as propriedades de data e hora.</span><span class="sxs-lookup"><span data-stu-id="b30ac-122">You can limit the results extracted for your query using DateTime properties.</span></span> <span data-ttu-id="b30ac-123">Dependendo do tipo de dado solicitado, talvez seja necessário um filtro de data e hora.</span><span class="sxs-lookup"><span data-stu-id="b30ac-123">Depending on the type of data requested, a DateTime filter might be required.</span></span> <span data-ttu-id="b30ac-124">O filtro de data e hora é fornecido usando as propriedades OrigemDoConjuntoDeDados da atividade de cópia do Azure Data Factory.</span><span class="sxs-lookup"><span data-stu-id="b30ac-124">The DateTime filter is provided using properties in the SourceDataSet of the Azure Data Factory copy activity.</span></span> <span data-ttu-id="b30ac-125">Para especificar um filtro de data e hora, adicione um novo campo **FiltroDeColunaDeData** em **PropriedadesDoTipo** e aplique essa definição para uma das propriedades de suporte à filtragem na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="b30ac-125">To specify a DateTime filter, add a new field **dateFilterColumn** under **typeProperties** and set this to one of the properties that support filtering in the following table.</span></span> <span data-ttu-id="b30ac-126">Em seguida, adicione uma **hora de início** e **hora de término** que representam os valores de data e hora que a propriedade será filtrada.</span><span class="sxs-lookup"><span data-stu-id="b30ac-126">Next, add a **startTime** and **endTime** that represent the DateTime values that the property will be filtered upon.</span></span>

<span data-ttu-id="b30ac-127">Os conjuntos de dados a seguir exigem que um filtro seja fornecido em uma das propriedades de data e hora correspondentes.</span><span class="sxs-lookup"><span data-stu-id="b30ac-127">The following datasets require a filter to be provided on one of the corresponding DateTime properties.</span></span>

| <span data-ttu-id="b30ac-128">Nome do conjunto de dados</span><span class="sxs-lookup"><span data-stu-id="b30ac-128">Dataset name</span></span>                                               | <span data-ttu-id="b30ac-129">Propriedades de suporte à filtragem</span><span class="sxs-lookup"><span data-stu-id="b30ac-129">Properties that support filtering</span></span>                                           |
| ---------------------------------------------------------- | --------------------------------------------------------------------------- |
| <span data-ttu-id="b30ac-130">BasicDataSet_v0.Event_v0</span><span class="sxs-lookup"><span data-stu-id="b30ac-130">BasicDataSet_v0.Event_v0</span></span><br><span data-ttu-id="b30ac-131">BasicDataSet_v0.Event_v1</span><span class="sxs-lookup"><span data-stu-id="b30ac-131">BasicDataSet_v0.Event_v1</span></span>       | <span data-ttu-id="b30ac-132">DataeHoraDaCriação</span><span class="sxs-lookup"><span data-stu-id="b30ac-132">CreatedDateTime</span></span><br><span data-ttu-id="b30ac-133">DataeHoraDaÚltimaModificação</span><span class="sxs-lookup"><span data-stu-id="b30ac-133">LastModifiedDateTime</span></span>                                     |
| <span data-ttu-id="b30ac-134">BasicDataSet_v0.Message_v0</span><span class="sxs-lookup"><span data-stu-id="b30ac-134">BasicDataSet_v0.Message_v0</span></span><br><span data-ttu-id="b30ac-135">BasicDataSet_v0.Message_v1</span><span class="sxs-lookup"><span data-stu-id="b30ac-135">BasicDataSet_v0.Message_v1</span></span>   | <span data-ttu-id="b30ac-136">DataeHoraDaCriação</span><span class="sxs-lookup"><span data-stu-id="b30ac-136">CreatedDateTime</span></span><br><span data-ttu-id="b30ac-137">DataeHoraDaÚltimaModificação</span><span class="sxs-lookup"><span data-stu-id="b30ac-137">LastModifiedDateTime</span></span><br><span data-ttu-id="b30ac-138">DataeHoraRecebida</span><span class="sxs-lookup"><span data-stu-id="b30ac-138">ReceivedDateTime</span></span><br><span data-ttu-id="b30ac-139">DataeHoraEnviada</span><span class="sxs-lookup"><span data-stu-id="b30ac-139">SentDateTime</span></span> |
| <span data-ttu-id="b30ac-140">BasicDataSet_v0.SentItem_v0</span><span class="sxs-lookup"><span data-stu-id="b30ac-140">BasicDataSet_v0.SentItem_v0</span></span><br><span data-ttu-id="b30ac-141">BasicDataSet_v0.SentItem_v1</span><span class="sxs-lookup"><span data-stu-id="b30ac-141">BasicDataSet_v0.SentItem_v1</span></span> | <span data-ttu-id="b30ac-142">DataeHoraDaCriação</span><span class="sxs-lookup"><span data-stu-id="b30ac-142">CreatedDateTime</span></span><br><span data-ttu-id="b30ac-143">DataeHoraDaÚltimaModificação</span><span class="sxs-lookup"><span data-stu-id="b30ac-143">LastModifiedDateTime</span></span><br><span data-ttu-id="b30ac-144">DataeHoraRecebida</span><span class="sxs-lookup"><span data-stu-id="b30ac-144">ReceivedDateTime</span></span><br><span data-ttu-id="b30ac-145">DataeHoraEnviada</span><span class="sxs-lookup"><span data-stu-id="b30ac-145">SentDateTime</span></span> |

> [!NOTE]
> <span data-ttu-id="b30ac-146">Os pipelines que solicitam BasicDataSet_v0.CalendarView_v0 também exigem um filtro de data e hora, mas nenhum **dateFilterColumn** é especificado na SourceDataSet.</span><span class="sxs-lookup"><span data-stu-id="b30ac-146">Pipelines requesting BasicDataSet_v0.CalendarView_v0 also require a DateTime filter, but no **dateFilterColumn** is specified in the SourceDataSet.</span></span> <span data-ttu-id="b30ac-147">No entanto, uma **startTime** e **endTime** são obrigatórios e somente eventos que começam após a **startTime** e que terminam antes da **endTime** são fornecidos.</span><span class="sxs-lookup"><span data-stu-id="b30ac-147">However, a **startTime** and **endTime** are required and only events that begin after the **startTime** and finish before the **endTime** are provided.</span></span>

## <a name="see-also"></a><span data-ttu-id="b30ac-148">Confira também</span><span class="sxs-lookup"><span data-stu-id="b30ac-148">See also</span></span>

- [<span data-ttu-id="b30ac-149">Integração com PAM</span><span class="sxs-lookup"><span data-stu-id="b30ac-149">Integrate with PAM</span></span>](data-connect-pam.md)
- [<span data-ttu-id="b30ac-150">Perguntas frequentes sobre a Conexão de Dados</span><span class="sxs-lookup"><span data-stu-id="b30ac-150">Data Connect frequently asked questions</span></span>](data-connect-faq.md)
